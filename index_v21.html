<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Dashboard V21 - Happy/Sad Effects</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F7F8F9;
        }

        .card-hover {
            transition: all 0.3s ease-out;
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: #cbd5e1;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        .text-fade {
            white-space: nowrap;
            overflow: hidden;
            mask-image: linear-gradient(to right, black 85%, transparent 100%);
            -webkit-mask-image: linear-gradient(to right, black 85%, transparent 100%);
        }

        /* Modal Styles */
        .mood-modal-overlay {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            transition: opacity 0.3s ease;
        }

        .fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .mood-btn {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mood-btn:hover {
            transform: scale(1.05);
        }

        /* Physics Elements */
        .physics-element {
            position: fixed !important;
            margin: 0 !important;
            z-index: 100 !important;
            pointer-events: auto !important;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col text-slate-800 relative overflow-hidden">

    <!-- Mood Modal -->
    <div id="moodModal" class="fixed inset-0 z-[1000] flex items-center justify-center mood-modal-overlay p-4">
        <div
            class="bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 text-center border border-white/20 animate-in zoom-in duration-300">
            <h2 class="text-3xl font-extrabold text-slate-900 mb-2">How do you feel today?</h2>

            <div class="grid grid-cols-2 gap-4">
                <button onclick="startExperience('happy')"
                    class="mood-btn group relative overflow-hidden rounded-2xl p-6 bg-gradient-to-br from-yellow-400 to-orange-500 text-white shadow-lg hover:shadow-orange-200">
                    <div class="text-5xl mb-3 group-hover:scale-110 transition-transform">üòä</div>
                    <div class="font-bold text-xl">Happy</div>
                </button>

                <button onclick="startExperience('sad')"
                    class="mood-btn group relative overflow-hidden rounded-2xl p-6 bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg hover:shadow-blue-200">
                    <div class="text-5xl mb-3 group-hover:scale-110 transition-transform">üòî</div>
                    <div class="font-bold text-xl">Sad</div>
                </button>
            </div>
        </div>
    </div>

    <!-- Comfort Popup (Hidden by default) -->
    <div id="comfortModal"
        class="fixed inset-0 z-[2000] flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-1000 bg-black/60 backdrop-blur-sm">
        <div class="bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl max-w-md w-full p-8 text-center border border-white/40 transform scale-95 transition-transform duration-500"
            id="comfortContent">
            <div
                class="w-16 h-16 bg-blue-100 text-blue-500 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl shadow-sm">
                ‚òï
            </div>
            <h3 class="text-xl font-bold text-slate-800 mb-3">Ngh·ªâ m·ªôt ch√∫t nh√©</h3>
            <p class="text-slate-600 leading-relaxed text-lg italic">
                ‚ÄúNgh·ªâ m·ªôt ch√∫t ƒë·ªÉ n·∫°p l·∫°i nƒÉng l∆∞·ª£ng nh√©. <br> ·ªîn h∆°n r·ªìi m√¨nh quay l·∫°i, m·ªçi th·ª© v·∫´n ch·ªù b·∫°n m√†.‚Äù
            </p>
            <button onclick="closeComfortModal()"
                class="mt-8 px-6 py-2 bg-slate-800 text-white rounded-full font-medium hover:bg-slate-900 transition-colors shadow-lg">
                M√¨nh ·ªïn r·ªìi
            </button>
        </div>
    </div>

    <!-- Header (Deep Blue) -->
    <header style="background: linear-gradient(135deg, #1B3DA1 0%, #0F256E 100%);"
        class=" h-16 text-white px-6 flex items-center justify-between shadow-lg z-50 fixed w-full top-0">
        <!-- Left Section -->
        <div class="flex items-center gap-8">
            <!-- Logo -->
            <div class="flex items-center gap-3">
                <div onclick="window.location.href='index.html'"
                    class="w-10 h-10 bg-white rounded-xl flex items-center justify-center text-[#1B3DA1] font-bold text-xl shadow-md cursor-pointer">
                    <img src="logo.png" alt="App.vn Logo" class="w-7 h-7 object-contain">
                </div>
                <span class="text-xl font-bold tracking-tight">App.vn</span>
            </div>


            <!-- Version Switcher -->
            <div class="flex items-center gap-2">
                <!-- Prev Button -->
                <a href="index_v20.html"
                    class="flex items-center justify-center w-9 h-9 text-white/90 hover:text-white bg-white/10 rounded-lg border border-white/10 hover:bg-white/20 transition-all"
                    title="Phi√™n b·∫£n tr∆∞·ªõc">
                    <i class="fa-solid fa-chevron-left text-xs"></i>
                </a>

                <div class="relative">
                    <button
                        onclick="document.getElementById('versionDropdown').classList.toggle('hidden'); event.stopPropagation();"
                        class="flex items-center gap-2 text-white/90 hover:text-white font-medium bg-white/10 px-3 py-1.5 rounded-lg transition-all border border-white/10 hover:bg-white/20 cursor-pointer h-9">
                        <span class="text-sm">Phi√™n b·∫£n giao di·ªán</span>
                        <i class="fa-solid fa-chevron-down text-xs opacity-70"></i>
                    </button>
                    <!-- Dropdown Menu -->
                    <div id="versionDropdown"
                        class="absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-xl border border-slate-200 overflow-hidden hidden z-50 animate-in fade-in slide-in-from-top-2 duration-200"
                        onclick="event.stopPropagation()">
                        <div class="p-1 max-h-80 overflow-y-auto">
                            <a href="index.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs">
                                    V1</div>
                                <div class="text-sm font-medium text-slate-700">Original</div>
                            </a>
                            <a href="index_v2.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded bg-slate-100 text-slate-600 flex items-center justify-center font-bold text-xs">
                                    V2</div>
                                <div class="text-sm font-medium text-slate-700">Clean White</div>
                            </a>







                            <a href="index_v10.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded bg-white text-amber-500 flex items-center justify-center font-bold text-xs ring-1 ring-slate-200 shadow-sm">
                                    V10</div>
                                <div class="text-sm font-medium text-slate-700">Icon Box</div>
                            </a>



                            <a href="index_v14.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded bg-gradient-to-br from-rose-500 to-pink-500 text-white flex items-center justify-center font-bold text-xs shadow-sm">
                                    V14</div>
                                <div class="text-sm font-medium text-slate-700">Quarter Circle</div>
                            </a>
                            <a href="index_v15.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors ">
                                <div
                                    class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center font-bold text-xs shadow-sm">
                                    V15</div>
                                <div class="text-sm font-medium text-slate-700">MacOS Style</div>
                            </a>
                            <a href="index_v16.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded-lg bg-white border border-slate-200 text-blue-600 flex items-center justify-center font-bold text-xs shadow-sm">
                                    V16</div>
                                <div class="text-sm font-medium text-slate-700">V15 Layout + V10 Icon</div>
                            </a>

                            <a href="index_v18.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center font-bold text-xs shadow-sm">
                                    <span
                                        class="bg-gradient-to-br from-purple-600 to-blue-400 bg-clip-text text-transparent">V18</span>
                                </div>
                                <div class="text-sm font-medium text-slate-700">Category Filter</div>
                            </a>
                            <a href="index_v19.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center font-bold text-xs shadow-sm">
                                    <span
                                        class="bg-gradient-to-br from-indigo-600 to-cyan-400 bg-clip-text text-transparent">V19</span>
                                </div>
                                <div class="text-sm font-medium text-slate-700">Sibebar Layout</div>
                            </a>

                            <a href="index_v20.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center font-bold text-xs shadow-sm">
                                    <span
                                        class="bg-gradient-to-br from-green-500 to-emerald-400 bg-clip-text text-transparent">V20</span>
                                </div>
                                <div class="text-sm font-medium text-slate-700">Module Colors</div>
                            </a>

                            <a href="index_v21.html"
                                class="flex items-center gap-3 px-3 py-2.5 rounded-md hover:bg-slate-50 group/item transition-colors">
                                <div
                                    class="w-8 h-8 rounded-lg bg-white border border-slate-200 flex items-center justify-center font-bold text-xs shadow-sm">
                                    <span
                                        class="bg-gradient-to-br from-yellow-500 to-orange-400 bg-clip-text text-transparent">V21</span>
                                </div>
                                <div class="text-sm font-medium text-slate-700">Happy/Sad Mood</div>
                            </a>



                        </div>
                    </div>
                </div>

                <script>
                    document.addEventListener('click', function (event) {
                        var dropdown = document.getElementById('versionDropdown');
                        if (dropdown && !dropdown.classList.contains('hidden')) {
                            dropdown.classList.add('hidden');
                        }
                    });
                </script>
            </div>

            <!-- Next Button -->
            <a href="index.html"
                class="flex items-center justify-center w-9 h-9 text-white/90 hover:text-white bg-white/10 rounded-lg border border-white/10 hover:bg-white/20 transition-all"
                title="Phi√™n b·∫£n ti·∫øp theo">
                <i class="fa-solid fa-chevron-right text-xs"></i>
            </a>
        </div>

        <!-- Search Bar Removed -->

        <!-- Right Side -->
        <div class="flex items-center gap-5">
            <button class="relative hover:opacity-80 transition">
                <i class="fa-regular fa-bell text-xl"></i>
                <span
                    class="absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#172B85]"></span>
            </button>
            <div class="flex items-center gap-3 pl-4 border-l border-white/20">
                <div class="text-right hidden sm:block leading-tight">
                    <div class="text-sm font-semibold">Harley</div>
                    <div class="text-[11px] text-blue-200 opacity-80">Owner</div>
                </div>
                <div
                    class="w-9 h-9 rounded-full bg-blue-400 border border-white/20 flex items-center justify-center shadow-md text-white font-bold text-xs">
                    HA
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Wrapper -->
    <div class="flex flex-1 pt-16 h-screen overflow-hidden">

        <!-- Main Content Area (Right Side) -->
        <main class="flex-1 overflow-y-auto bg-[#F7F8F9] p-6 lg:p-10 scroll-smooth relative w-full">

            <!-- Welcome Section -->
            <div class="mb-8">
                <h1 class="text-2xl font-bold text-slate-800 mb-1">Xin ch√†o, Harley! üëã</h1>
                <p class="text-slate-500">Pick a module to start working.</p>
            </div>

            <!-- Modules Grid -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-4">

                <!-- 1. Qu·∫£n l√Ω b√°n h√†ng -->
                <a href="modules/sales.html" data-categories="recent sales"
                    class="module-card bg-blue-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-blue-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-blue-500 flex-shrink-0 z-10  group-hover:bg-blue-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-cart-shopping text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-blue-700 transition-colors">
                            B√°n h√†ng</h3>
                    </div>
                </a>

                <!-- 2. S·∫£n ph·∫©m -->
                <a href="modules/product.html" data-categories="products"
                    class="module-card bg-amber-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-amber-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-amber-500 flex-shrink-0 z-10  group-hover:bg-amber-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-box-open text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-amber-600 transition-colors">
                            S·∫£n ph·∫©m</h3>
                    </div>
                </a>

                <!-- 3. Kh√°ch h√†ng -->
                <a href="modules/customer.html" data-categories="recent contact"
                    class="module-card bg-emerald-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-emerald-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-emerald-500 flex-shrink-0 z-10  group-hover:bg-emerald-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-user-group text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-emerald-700 transition-colors">
                            Kh√°ch h√†ng</h3>
                    </div>
                </a>

                <!-- 4. Kho h√†ng -->
                <!-- 4. Kho h√†ng -->
                <a href="modules/warehouse.html" data-categories="recent products"
                    class="module-card bg-orange-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-orange-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-orange-500 flex-shrink-0 z-10  group-hover:bg-orange-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-warehouse text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-orange-700 transition-colors">
                            Kho h√†ng</h3>
                    </div>
                </a>

                <!-- 5. B√°o c√°o -->
                <a href="modules/report.html" data-categories="recent report"
                    class="module-card bg-indigo-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-indigo-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-indigo-500 flex-shrink-0 z-10  group-hover:bg-indigo-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-chart-simple text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-indigo-700 transition-colors">
                            B√°o c√°o</h3>
                    </div>
                </a>

                <!-- 6. CRM -->
                <a href="modules/crm.html" data-categories="contact"
                    class="module-card bg-rose-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-rose-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-rose-500 flex-shrink-0 z-10  group-hover:bg-rose-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-chart-pie text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-rose-600 transition-colors">
                            CRM</h3>
                    </div>
                </a>

                <!-- 7. Automation -->
                <a href="modules/automation.html" data-categories="support"
                    class="module-card bg-purple-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-purple-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-purple-500 flex-shrink-0 z-10  group-hover:bg-purple-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-robot text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-purple-700 transition-colors">
                            Automation</h3>
                    </div>
                </a>

                <!-- 8. ∆Øu ƒë√£i -->
                <a href="modules/promotions.html" data-categories="sales marketing"
                    class="module-card bg-red-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-red-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-red-500 flex-shrink-0 z-10  group-hover:bg-red-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-tags text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-red-600 transition-colors">
                            ∆Øu
                            ƒë√£i</h3>
                    </div>
                </a>

                <!-- 9. Flash Sale -->
                <a href="modules/flashsale.html" data-categories="sales marketing"
                    class="module-card bg-red-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-red-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-red-600 flex-shrink-0 z-10  group-hover:bg-red-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-bolt text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-red-700 transition-colors">
                            Flash Sale</h3>
                    </div>
                </a>

                <!-- 10. Loyalty -->
                <a href="modules/loyalty.html" data-categories="marketing"
                    class="module-card bg-yellow-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-yellow-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-yellow-500 flex-shrink-0 z-10  group-hover:bg-yellow-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-crown text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-yellow-700 transition-colors">
                            Loyalty</h3>
                    </div>
                </a>

                <!-- 11. Combo -->
                <a href="modules/combo.html" data-categories="sales"
                    class="module-card bg-orange-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-orange-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-orange-500 flex-shrink-0 z-10  group-hover:bg-orange-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-layer-group text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-orange-600 transition-colors">
                            Combo</h3>
                    </div>
                </a>

                <!-- 12. RFM -->
                <a href="modules/rfm.html" data-categories="marketing"
                    class="module-card bg-violet-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-violet-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-violet-500 flex-shrink-0 z-10  group-hover:bg-violet-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-chart-area text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-violet-700 transition-colors">
                            RFM</h3>
                    </div>
                </a>

                <!-- 13. WorkChatV2 -->
                <a href="modules/workchat.html" data-categories="contact"
                    class="module-card bg-pink-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-pink-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-pink-500 flex-shrink-0 z-10  group-hover:bg-pink-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-regular fa-comments text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-pink-600 transition-colors">
                            WorkChatV2</h3>
                    </div>
                </a>

                <!-- 14. T·ªïng ƒë√†i - SMS - ZNS -->
                <a href="modules/callcenter.html" data-categories="contact"
                    class="module-card bg-green-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-green-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-green-600 flex-shrink-0 z-10  group-hover:bg-green-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-headset text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-green-700 transition-colors">
                            T·ªïng ƒë√†i</h3>
                    </div>
                </a>

                <!-- 15. Feedback -->
                <a href="modules/feedback.html" data-categories="contact"
                    class="module-card bg-yellow-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-yellow-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-yellow-600 flex-shrink-0 z-10  group-hover:bg-yellow-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-comment-dots text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-yellow-700 transition-colors">
                            Feedback</h3>
                    </div>
                </a>

                <!-- 16. Booking -->
                <a href="modules/booking.html" data-categories="content"
                    class="module-card bg-blue-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-blue-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-blue-600 flex-shrink-0 z-10  group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-calendar-check text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-blue-700 transition-colors">
                            Booking</h3>
                    </div>
                </a>

                <!-- 17. Kh√≥a h·ªçc - S·ª± ki·ªán -->
                <a href="modules/events.html" data-categories="content"
                    class="module-card bg-orange-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-orange-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-orange-600 flex-shrink-0 z-10  group-hover:bg-orange-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-calendar-days text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-orange-700 transition-colors">
                            S·ª± ki·ªán</h3>
                    </div>
                </a>

                <!-- 18. B·∫£o h√†nh -->
                <a href="modules/warranty.html" data-categories="products"
                    class="module-card bg-teal-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-teal-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-teal-500 flex-shrink-0 z-10  group-hover:bg-teal-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-shield-halved text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-teal-700 transition-colors">
                            B·∫£o h√†nh</h3>
                    </div>
                </a>

                <!-- 19. H√≥a ƒë∆°n ƒëi·ªán t·ª≠ -->
                <a href="modules/einvoice.html" data-categories="sales support"
                    class="module-card bg-blue-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-blue-500 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-blue-500 flex-shrink-0 z-10  group-hover:bg-blue-500 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-file-invoice text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-blue-600 transition-colors">
                            H√≥a ƒë∆°n</h3>
                    </div>
                </a>

                <!-- 20. C√¥ng n·ª£ -->
                <a href="modules/debt.html" data-categories="sales"
                    class="module-card bg-indigo-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-indigo-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-indigo-600 flex-shrink-0 z-10  group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-file-invoice-dollar text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-indigo-700 transition-colors">
                            C√¥ng n·ª£</h3>
                    </div>
                </a>

                <!-- 21. C·ªïng thanh to√°n -->
                <a href="modules/payment.html" data-categories="sales"
                    class="module-card bg-emerald-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-emerald-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-emerald-600 flex-shrink-0 z-10  group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-credit-card text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-emerald-700 transition-colors">
                            Thanh to√°n</h3>
                    </div>
                </a>

                <!-- 22. Th·∫ª tr·∫£ tr∆∞·ªõc -->
                <a href="modules/prepaid.html" data-categories="sales"
                    class="module-card bg-emerald-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-emerald-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-emerald-600 flex-shrink-0 z-10  group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-money-check-dollar text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-emerald-700 transition-colors">
                            Th·∫ª tr·∫£ tr∆∞·ªõc</h3>
                    </div>
                </a>

                <!-- 23. Mini App Builder -->
                <a href="modules/miniapp.html" data-categories="content"
                    class="module-card bg-blue-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-blue-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-blue-600 flex-shrink-0 z-10  group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Icon_of_Zalo.svg" alt="Zalo"
                            class="w-6 h-6">
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-blue-700 transition-colors">
                            Mini App</h3>
                    </div>
                </a>

                <!-- 24. Webview -->
                <a href="modules/webview.html" data-categories="content"
                    class="module-card bg-purple-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-purple-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-purple-600 flex-shrink-0 z-10  group-hover:bg-purple-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-globe text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-purple-700 transition-colors">
                            Webview</h3>
                    </div>
                </a>

                <!-- 25. C·ªông t√°c vi√™n -->
                <a href="modules/agents.html" data-categories="contact"
                    class="module-card bg-cyan-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-cyan-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-cyan-600 flex-shrink-0 z-10  group-hover:bg-cyan-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-handshake text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-cyan-700 transition-colors">
                            C·ªông t√°c vi√™n</h3>
                    </div>
                </a>

                <!-- 26. T√≠ch h·ª£p -->
                <a href="modules/integration.html" data-categories="support"
                    class="module-card bg-cyan-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-cyan-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-cyan-600 flex-shrink-0 z-10  group-hover:bg-cyan-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-plug text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-cyan-700 transition-colors">
                            T√≠ch h·ª£p</h3>
                    </div>
                </a>

                <!-- 27. V·∫≠n chuy·ªÉn n·ªôi b·ªô -->
                <a href="modules/shipping.html" data-categories="products"
                    class="module-card bg-amber-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-amber-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-amber-600 flex-shrink-0 z-10  group-hover:bg-amber-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-truck text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-amber-700 transition-colors">
                            V·∫≠n chuy·ªÉn</h3>
                    </div>
                </a>

                <!-- 28. Thi·∫øt k·∫ø ·∫£nh -->
                <a href="modules/imagedesign.html" data-categories="design"
                    class="module-card bg-rose-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-rose-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-rose-600 flex-shrink-0 z-10  group-hover:bg-rose-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-palette text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-rose-700 transition-colors">
                            Thi·∫øt k·∫ø ·∫£nh</h3>
                    </div>
                </a>

                <!-- 29. Thi·∫øt k·∫ø Email -->
                <a href="modules/emaildesign.html" data-categories="design marketing"
                    class="module-card bg-fuchsia-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-fuchsia-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-fuchsia-600 flex-shrink-0 z-10  group-hover:bg-fuchsia-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-envelope-open-text text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-fuchsia-700 transition-colors">
                            Thi·∫øt k·∫ø Email</h3>
                    </div>
                </a>

                <!-- 30. M·∫´u in -->
                <a href="modules/templates.html" data-categories="design"
                    class="module-card bg-gray-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-gray-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-gray-600 flex-shrink-0 z-10  group-hover:bg-gray-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-print text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-gray-700 transition-colors">
                            M·∫´u in</h3>
                    </div>
                </a>

                <!-- 31. L∆∞u tr·ªØ -->
                <a href="modules/storage.html" data-categories="support"
                    class="module-card bg-stone-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-stone-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-stone-600 flex-shrink-0 z-10  group-hover:bg-stone-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-hard-drive text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-stone-700 transition-colors">
                            L∆∞u tr·ªØ</h3>
                    </div>
                </a>

                <!-- 32. C√†i ƒë·∫∑t -->
                <a href="modules/settings.html" data-categories="support"
                    class="module-card bg-slate-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-slate-200/300 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-slate-600 flex-shrink-0 z-10  group-hover:bg-slate-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-gear text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-slate-700 transition-colors">
                            C√†i ƒë·∫∑t</h3>
                    </div>
                </a>

                <!-- 33. B·∫•t ƒë·ªông s·∫£n -->
                <a href="modules/realestate.html" data-categories="other"
                    class="module-card bg-sky-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-sky-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-sky-600 flex-shrink-0 z-10  group-hover:bg-sky-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-building text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-sky-700 transition-colors">
                            B·∫•t
                            ƒë·ªông s·∫£n</h3>
                    </div>
                </a>

                <!-- 34. Zalo OA -->
                <a href="modules/zalo-oa.html"
                    class="bg-blue-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-blue-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-blue-600 flex-shrink-0 z-10  group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/9/91/Icon_of_Zalo.svg" alt="Zalo"
                            class="w-6 h-6">
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-blue-700 transition-colors">
                            Zalo OA</h3>
                    </div>
                </a>

                <!-- 35. Thi·∫øt k·∫ø Website -->
                <a href="modules/web-design.html"
                    class="bg-indigo-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-indigo-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-indigo-600 flex-shrink-0 z-10  group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-laptop-code text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-indigo-700 transition-colors">
                            Thi·∫øt k·∫ø Website</h3>
                    </div>
                </a>

                <!-- 36. B·∫£ng d·ªØ li·ªáu -->
                <a href="modules/datatables.html"
                    class="bg-emerald-50 rounded-xl p-4 shadow-sm border border-slate-200/30 card-hover group flex items-center justify-start gap-3 h-[85px] hover:border-emerald-600 relative overflow-hidden transition-all">
                    <div
                        class="w-14 h-14 rounded-2xl bg-white border border-slate-100 shadow-[0_8px_20px_-4px_rgba(0,0,0,0.15)] flex items-center justify-center text-emerald-600 flex-shrink-0 z-10  group-hover:bg-emerald-600 group-hover:text-white transition-colors duration-300">
                        <i class="fa-solid fa-table text-2xl"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3
                            class="font-bold text-slate-800 text-sm text-fade group-hover:text-emerald-700 transition-colors">
                            B·∫£ng d·ªØ li·ªáu</h3>
                    </div>
                </a>

            </div>
        </main>

        <!-- Simple Footer -->
        <footer class="mt-auto py-6 text-center text-slate-400 text-xs">
            <p>&copy; 2026 Appvn. All rights reserved.</p>
        </footer>

        <script>
            let currentCategory = 'all';

            function filterModules(category, btn) {
                if (btn) {
                    document.querySelectorAll('.category-btn').forEach(b => {
                        b.classList.remove('text-blue-600', 'bg-blue-50', 'font-semibold');
                        b.classList.add('text-slate-500', 'border-transparent', 'font-medium');
                    });
                    btn.classList.remove('text-slate-500', 'border-transparent', 'font-medium');
                    btn.classList.add('text-blue-600', 'bg-blue-50', 'font-semibold');
                }

                currentCategory = category;
                applyFilters();
            }

            function applyFilters() {
                const searchInput = document.getElementById('moduleSearch');
                const searchText = searchInput ? searchInput.value.toLowerCase() : '';
                const modules = document.querySelectorAll('.module-card');

                modules.forEach(module => {
                    const categories = (module.getAttribute('data-categories') || '').split(' ');
                    const h3 = module.querySelector('h3');
                    const title = h3 ? h3.innerText.toLowerCase() : '';

                    const matchCategory = currentCategory === 'all' ? true : categories.includes(currentCategory);
                    const matchSearch = title.includes(searchText);

                    if (matchCategory && matchSearch) {
                        module.classList.remove('hidden');
                    } else {
                        module.classList.add('hidden');
                    }
                });
            }

            function closeComfortModal() {
                const url = new URL(window.location);
                url.searchParams.set('mood', 'normal');
                window.location.href = url.toString();
            }

            // Matter.js Logic
            function startExperience(mood) {
                const modal = document.getElementById('moodModal');
                modal.classList.add('fade-out');
                setTimeout(() => modal.remove(), 300);

                // If Happy, just show normal UI (no physics)
                if (mood === 'happy') {
                    return;
                }

                // Show comfort message if sad
                if (mood === 'sad') {
                    setTimeout(() => {
                        const comfortModal = document.getElementById('comfortModal');
                        const comfortContent = document.getElementById('comfortContent');
                        comfortModal.classList.remove('opacity-0', 'pointer-events-none');
                        comfortModal.classList.add('opacity-100', 'pointer-events-auto');
                        comfortContent.classList.remove('scale-95');
                        comfortContent.classList.add('scale-100');
                    }, 5000);
                }

                const { Engine, World, Bodies, Mouse, MouseConstraint, Runner } = Matter;

                const engine = Engine.create();
                const world = engine.world;

                if (mood === 'happy') {
                    engine.gravity.y = 1; // Normal gravity for bouncing
                } else {
                    engine.gravity.y = 1; // Fall down
                }

                // Create Barriers
                const thickness = 100;
                const ground = Bodies.rectangle(window.innerWidth / 2, window.innerHeight + thickness / 2, window.innerWidth, thickness, { isStatic: true });
                const ceiling = Bodies.rectangle(window.innerWidth / 2, -thickness / 2, window.innerWidth, thickness, { isStatic: true });
                const leftWall = Bodies.rectangle(-thickness / 2, window.innerHeight / 2, thickness, window.innerHeight, { isStatic: true });
                const rightWall = Bodies.rectangle(window.innerWidth + thickness / 2, window.innerHeight / 2, thickness, window.innerHeight, { isStatic: true });
                World.add(world, [ground, ceiling, leftWall, rightWall]);

                // Select and convert elements
                const selectors = [
                    '.module-card:not(.hidden)',
                    'header',
                    'h1',
                    'main p'
                ];

                const elements = [];
                selectors.forEach(sel => {
                    document.querySelectorAll(sel).forEach(el => {
                        if (el.offsetParent !== null) elements.push(el);
                    });
                });

                const bodies = [];
                elements.forEach(el => {
                    const rect = el.getBoundingClientRect();
                    if (rect.width === 0 || rect.height === 0) return;

                    const body = Bodies.rectangle(
                        rect.left + rect.width / 2,
                        rect.top + rect.height / 2,
                        rect.width,
                        rect.height,
                        {
                            restitution: 0.8,
                            friction: 0.1,
                            chamfer: { radius: 10 }
                        }
                    );

                    body.homePosition = { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 };
                    body.renderElement = el;
                    bodies.push(body);

                    el.style.width = rect.width + 'px';
                    el.style.height = rect.height + 'px';
                    el.style.position = 'fixed';
                    el.style.left = rect.left + 'px';
                    el.style.top = rect.top + 'px';
                    el.style.margin = '0';
                    el.classList.add('physics-element');
                });

                World.add(world, bodies);

                // Interaction
                const mouse = Mouse.create(document.body);
                const mouseConstraint = MouseConstraint.create(engine, {
                    mouse: mouse,
                    constraint: {
                        stiffness: 0.2,
                        render: { visible: false }
                    }
                });
                World.add(world, mouseConstraint);

                // Run
                const runner = Runner.create();
                Runner.run(runner, engine);

                if (mood === 'happy') {
                    // Add constraints to hold bodies in place but allow bouncing
                    const { Constraint } = Matter;
                    bodies.forEach(body => {
                        const constraint = Constraint.create({
                            bodyA: body,
                            pointB: { x: body.homePosition.x, y: body.homePosition.y },
                            stiffness: 0.05, // Spring-like
                            damping: 0.05,
                            length: 0
                        });
                        World.add(world, constraint);
                    });
                }

                (function update() {
                    bodies.forEach(body => {
                        if (mood === 'happy') {
                            // Periodic "Jump" (Vertical Only)
                            // Jump chance needs to be low so they don't all jump at once constantly
                            if (Math.random() < 0.005) {
                                // Reset position close to home before jumping to prevent drift accumulation? No, constraint handles it.
                                Matter.Body.applyForce(body, body.position, {
                                    x: 0,
                                    y: - (body.mass * 0.035) // Proportional force for consistent jump height
                                });
                            }
                        }

                        const { x, y } = body.position;
                        const angle = body.angle;
                        const el = body.renderElement;
                        el.style.left = `${x - el.offsetWidth / 2}px`;
                        el.style.top = `${y - el.offsetHeight / 2}px`;
                        el.style.transform = `rotate(${angle}rad)`;
                    });
                    requestAnimationFrame(update);
                })();

                // Add Reset Button
                const resetBtn = document.createElement('button');
                resetBtn.innerHTML = '<i class="fa-solid fa-rotate-right mr-2"></i> Reset Mood';
                resetBtn.className = 'fixed bottom-6 right-6 z-[2000] bg-white/90 backdrop-blur text-slate-800 px-5 py-2.5 rounded-full shadow-2xl border border-slate-200 font-semibold hover:bg-white transition-all scale-0';
                document.body.appendChild(resetBtn);
                setTimeout(() => resetBtn.classList.remove('scale-0'), 1000);
                resetBtn.onclick = () => {
                    const url = new URL(window.location);
                    url.searchParams.delete('mood');
                    window.location.href = url.toString();
                };
            }

            document.addEventListener('DOMContentLoaded', () => {
                // Check URL params for mood=normal
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.get('mood') === 'normal') {
                    const modal = document.getElementById('moodModal');
                    if (modal) modal.remove();
                }

                const defaultBtn = document.querySelector('.category-btn');
                if (defaultBtn) filterModules('all', defaultBtn);

                const searchInput = document.getElementById('moduleSearch');
                if (searchInput) {
                    searchInput.addEventListener('input', applyFilters);
                }
            });
        </script>
</body>

</html>